## 混淆电路

### 一. 混淆电路的发展现状

1982 年：姚期智提出混淆电路，此时的混淆电路识两方计算
2009 年：Lindell 等给出了安全性证明和详细介绍
2013 年：Goldwasser 给出了简化形式

### 二. 两方混淆电路

参与的双方分别是电路生成者和电路执行者，首先双方达成一致地将要执行的联合函数转换成布尔电路。通常地，生成者使用对称加密算法（AES等）对每个门电路进行加密。对电路上的每一条线路的可能输入（输出）值，生成者选取对等个数的随机数分别进行一一替换，这些随机数被称为混淆密钥。生成者再利用这些混淆密钥，对电路里的每个门的输出的混淆密钥进行加密，得到混淆电路的真值表。

|  X  |  Y |  Z  |
|:----|:---|:----|
|   0 |  0 |  0  |
|   0 |  1 |  0  |
|   1 |  0 |  0  |
|   1 |  1 |  1  |

首先，x 和y 不能公开（也不能全部发送给执行者），可以用随机数表示，执行者拿到的是z的相关信息。而z的信息也不能完全透露，如果采用简单的编码替换z的结果，很容易便可以推出 z 的输入信息，因此，需要真值表中 z 的四个结果都使用不一样的表示，也可采用随机数，同时，z 的随机数可以由某一组的 xy 解得，因此可以使用对应的 xy 来对 z 进行加密。整个过程就是混淆真值表生成的过程，最终的混淆真值表：


生成者将混淆真值表的z顺序打乱后连同自己的输入随机数发送给执行者（注意：前提是生成者与执行者共同约定执行电路），执行者接受到消息后开始执行电路。一般地，生成者提供自己的x输入后，执行者在和之间选择自己的输入便可解得z，和同样由生成者提供，但是生成者不能都发送给执行者，同时，执行者也不想让生成者知道自己选择了哪个，这时，OT协议就起作用了，混淆电路正是使用了OT协议解决这个问题。最终，执行者使用生成者提供的x输入和自己的输入依次解密z，解密成功的z即为最终结果（注意：结果有且只有一个，并且只是解密得到z的混淆密钥）。执行者再将结果也即混淆密钥发送给生成者，生成者对照真值表把密钥对应的真实z的输出结果发送给执行者，至此，双方便完成了一次混淆电路计算。

混淆电路的前提是需要双方彼此事先约定好执行电路，并且双方都能诚实地把结果发送给对方，这是一半诚实模型。最初的混淆电路协议可以对抗半诚实攻击，经过后续的许多改进和优化，也可以对抗完全恶意攻击。在实际应用过程中，还存在复杂运算逻辑的表示和电路生成计算的性能问题。

### 三.GMW 协议

### 四.BGW 协议

### 五.CCD协议

