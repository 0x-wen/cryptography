## MPC 简述

多方安全计算由我国的姚期智教授在 1982 年首次提出，它主要研究的问题是如何在无可信第三方的情况下设计一个函数，可以让多方在不透露任何信息的前提下安全地得到输出．多方安全计算的组成利用了许多密码 学知识，如零知识证明、数字签名等，也利用了分布式计算原理，如广播问题和拜占庭问题．但多方安全计算与传统的密码学、分布式计算之间又存在很大差异。传统密码学是在非安全的环境下，通过加密 的方式实现数据的保护作用．加密机制就是将原有 的信息进行某种规则的变换，即使在传输过程中数据被篡改和泄露也能及时发现，及时补救不用 担心数据被利用．密码学保护的是参与方在攻击方攻击下保护数据的隐私性．而多方安全计算研究的 问题是在各数据参与方之间如何对各参与方的数据进行保护和确保正确．而不同于分布式计算的 是，多方安全计算通过协议来控制计算进程，无第三方控制计算过程，各参与方的地位平等，不存在第三方的干预。

为了设计安全的多方计算（MPC）协议，人们进行了许多研究，如不经意传输、混淆电路、同态加密和线性秘密共享方案等．安全的 MPC提供了增强的隐私性、正确性和输入的独立性，并保证了输出的交付。区块链非常适合安全的 MPC 协议，因为它们都处理分布式环境中的安全和信任问题。利用基于区块链的安全 MPC 受益的实际场景很多，如 MPC 跨链桥，MPC 分布式钱包。

多方安全计算早期用于电子选举、门限签名、电子竞拍等场景．随着研究的深入，现已拓展至面向分布式场景的协同计算，包括隐私信息查询、计算预测、联邦机器学习等，并且在政务、医疗、金融 等领域具有广阔的应用前景．例如，2019 年 8 月，谷歌（google）开源了多方安全计算工具—Private Join and Compute, 以帮助组织和机构协同处理机密数据集；2019 年 10 月，脸书（facebook, meta）将安全机器学习框架crypTen 进行开源．我国相关机构和组织积极推动多方安全计算核心技术研发、标准规范制定以及商业应用落地．例如，蚂蚁金服推出了蚂蚁链摩斯多方安全计算平台；华控清交基于多方安全计算技术，实现了高性能通用的安全计算框架 PrivPy 平台；矩阵元推出了隐私机器学习开源框架 Rosetta。


### 一.多方安全计算的概念

多方安全计算数学定义：假设存在 n 个参与方 P1, P2 ... Pn，每个参与方都有一个私有输入数据 Xi，所有参与方共同计算某个函数 f(x1，x2 ... xn），且要求在计算结束时，每个参与方 Pi 只能得到私有输入数据 Xi 的输出，而不能获取其他参与方的输入信息及输出结果信息。

多方安全计算理论主要解决的是各个数据参与者的信息保护和计算正确性问题，能够实现在无第三方的条件下，在保护数据不泄露的前提下 保证计算的正确性，所以多方安全计算的特点有：

#### 1. 输入隐私性

多方安全计算在进行计算任务时根据 MPC 节点的计算，从本地查询数据，再根据计算任务进行数据计算，整个过程中，数据都在本地数据库中保存，不存在数据泄露问题，因此保证了输入数据的隐私性。

#### 2. 计算正确性

多方安全计算数据参与方根 据约定进行任务计算，通过多方安全计算协议进行计算数据的查询、协同计算，因此可以保证计算的正确性

#### 3.去中心化

多方安全计算不存在有特权的 参与方或可信第三方，而是采用协议的方式代替第三方，通过协议保证各数据参与方地位权力平等，任何数据拥有者都可开启计算任务。

### 二. 安全多方计算组成模型

多方安全计算的组成模型主要由４个部分组成：协议参与者、协议攻击者、网络条件和通信信道．

#### 1.协议参与者

按照协议参与者在协议执行过程中的行为， 可以把协议参与者分为

- 诚实的协议参与者: 这类参与者是最理想的协议参与者，根据计算任务时约定好的过程，对照协议执行每个步骤。
- 半诚实的协议参与者：这类参与者不会像诚实参与者一样按照协议进行每个步骤，它根据现实情况私下收集所需数据，推导其他参与者的输入数据和输入值，但不会主动攻击或联合其他数据参与者破坏协议，这类参与者由于不主动攻击和联合其他参与者，一般很难被检测到，这对协议的安全性影响很大，一旦半诚实参与者被买通或攻破，其收集到的数据就会被泄露. 
- 恶意参与者．这类参与者容易被攻击者买通，或者就是攻击者伪装形成的参与者，以此非法获取有用数据。

在现实情况下，主要存在的是半诚实协议参与者和恶意参与者，因此设计了半诚实模型和恶意敌手模型

半诚实模型：在协议执行时参与者按照协议规定的流程执行，但是可能会被恶意攻击者监听获取到在协议执行过程中参与者的输入输出以及在协议运行过程中获得的信息.
恶意敌手模型: 在协 议执行时，攻击者可以通过在其控制下的参与方 进行不合法的输入，或者恶意篡改输入等方法来分析诚实参与者的隐私信息．还可以通过提前终止和拒绝参与等方式导致协议的终止．

#### 2.协议攻击者

协议攻击者和协议恶意参与者参与协同计算的目的相同，都是通过非法途径来获取数据．与恶意参与者行为不同的是，它可以控制参与者，篡改协议参与者的步骤，使参与者按照其意愿继续执行协议来获取信息.

攻击者对不诚实参与者的控制可以分为以下 ２种情况
- 被动攻击/窃听者: 仅仅窃听信道或者获取不诚实参与者在协同计算过程中所得到的信息， 不诚实参与者仍然按照协议约定执行协议步骤. 
- 主动攻击者: 攻击者会改变不诚实参与者的行为，不仅仅窃听或者获取不诚实参与者在协议进行中所得到的信息，还使其按照自己的意愿参与协议来达到窃取信息的目的.

#### 3. 网络条件

多方安全计算的各数据所有者在进行协同计算任务时都需要通过网络媒介进行连接，在同步网络媒介中，所有的数据参与者将共同拥有同一个全局性的时钟, 所有的信息会在同一个时间段内送达，并且每个数据参与者都能在下一时间段内收到属于自己的数据信息. 

但在非同步网络媒介中，所有数据参与者无法拥有同一个全局性的时钟. 信息从某个数据参与者的本地数据库中发出去，需要经过若干个时间段，数据参与者的接收方才能收到属于自己的数据信息，并且收到的数据信息由于来自不同参与者，接收到的数据信息顺序可能不是真实的发送顺序.

#### 4.通信信道

安全多方计算的参与者之间的网络媒介需要信道相连，来完成与其他参与者的数据交换．由于协议攻击者会对不诚实协议参与者进行一定程度的控制，所以将通信信道分为 3 个级别

- 安全信道、非安全信道、未认证信道. 攻击者对于安全信道没有控制能力；对非安全信道可以窃听参与者的通信信息，但不能篡改内容；对未认证信道可以完全控制，甚至可以伪装成诚实的参与者参与协议。

### 三. 安全多方计算组涉及的密码学协议

消息摘要，对称加密和非对称加密，秘密共享，证书，不经意传输和混淆电路等。

### 四. 安全多方计算的应用场景



### 五.总结
